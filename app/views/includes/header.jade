.container
	.row
		.clearfix(style="margin:9px 0;")
			h1.text-primary.text-uppercase= title
			.row
				.col-md-4
					small.text-muted Colin's Graduation design 2018/02/24
				.col-md-8
					form(method="GET", action="/results")
						.input-group.col-sm-4.pull-right
							input.form-control(type="text", name="key", required)
							span.input-group-btn
								button.btn.btn-primary(type="submit") 搜索
.navbar.navbar-default.navbar-fixed-top
	.container
		if user
			p.navbar-text.navbar-right
				img.img-circle(src="/upload/#{user.portrait}", alt="#{user.nick}", style="width: 25px")
				span &nbsp; | &nbsp;
				| #{user.nick}
				span &nbsp; | &nbsp;
				a.navbar-link(href="/logout") 退出
		else
			p.navbar-text.navbar-right
				a.navbar-link(href="#", data-toggle="modal", data-target="#signinModal") 登录
				span &nbsp; | &nbsp;
				a.navbar-link(href="/signup") 注册
#signinModal.modal.fade
	.modal-dialog
		.modal-content
			form(method="POST", action="/user/signin")
				h2.modal-header.text-primary.text-center.text-uppercase 登录
				.modal-body
					.form-group
						label(for="signinName") 用户名
						//- user[name]这样写便于node后台直接获取user对象
						//- 而不需要类似req.body.name 一个一个获取数据
						//- movie的后台录入页同
						input#signinName.form-control(name="user[name]", type="text", required)
					.form-group
						label(for="signinPassword") 密码
						input#signinPassword.form-control(name="user[password]", type="password", required)
				.modal-footer
					button.btn.btn-default(type="button", data-dismiss="modal") 关闭
					button.btn.btn-primary(type="submit") 登录
