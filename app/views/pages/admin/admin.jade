extends ../../layout

block content
  .container
    .row
      form.form-horizontal(method="post", action="/admin/movie/new", enctype="multipart/form-data")
        .form-group
          label.col-sm-3.control-label(for="douban") 豆瓣同步
          .col-sm-7
            input#douban.form-control(type="text")
        if movie._id
          //- 隐藏表单域，用来更新电影数据，存储电影ID
          input(type="hidden", name="movie[_id]", value= movie._id)
        .form-group
          label.col-sm-3.control-label(for="inputTitle") 电影名称
          .col-sm-7
            input#inputTitle.form-control(type="text", name="movie[title]", value= movie.title, required)
        .form-group
          label.col-sm-3.control-label(for="inputDoctor") 电影导演
          .col-sm-7
            input#inputDoctor.form-control(type="text", name="movie[doctor]", value= movie.doctor, required)
        .form-group
          label.col-sm-3.control-label(for="inputActor") 演员
          .col-sm-7
            input#inputActor.form-control(type="text", name="movie[actor]", value= movie.actor, required)
        .form-group
          label.col-sm-3.control-label(for="inputCategory") 新类型
          .col-sm-7
            input#inputCategory.form-control(type="text", name="movie[categoryName]", value= movie.categoryName)
        .form-group
          label.col-sm-3.control-label(for="inputActor") 选择类型
          each cat in categories
            label.radio-inline
              if movie._id
                input(type="radio", name="movie[category]", value=cat._id, checked=cat._id.toString()==movie.category.toString())
              else
                input(type="radio", name="movie[category]", value=cat._id)
              span #{cat.name}
        .form-group
          label.col-sm-3.control-label(for="inputCountry") 国家
          .col-sm-7
            input#inputCountry.form-control(type="text", name="movie[country]", value= movie.country, required)
        .form-group
          label.col-sm-3.control-label(for="inputLanguage") 语种
          .col-sm-7
            input#inputLanguage.form-control(type="text", name="movie[language]", value= movie.language, required)
        .form-group
          label.col-sm-3.control-label(for="inputPoster") 照片地址
          .col-sm-7
            input#inputPoster.form-control(type="text", name="movie[poster]", value= movie.poster)
        .form-group
          label.col-sm-3.control-label(for="inputPhoto") 上传海报
          .col-sm-7
            input#photo(type="file", name="photo")
        .form-group
          label.col-sm-3.control-label(for="inputFlash") 片源地址
          .col-sm-7
            input#inputFlash.form-control(type="text", name="movie[flash]", value= movie.flash)
        .form-group
          label.col-sm-3.control-label(for="inputYear") 上映年代
          .col-sm-7
            input#inputYear.form-control(type="text", name="movie[year]", value= movie.year, required)
        .form-group
          label.col-sm-3.control-label(for="inputSummary") 电影简介
          .col-sm-7
            textarea#inputSummary.form-control(type="text", name="movie[summary]", rows='8', value= movie.summary)
              #{movie.summary}
        .form-group
          .col-sm-offset-2.col-sm-8
          button.btn.btn-primary(type="submit") 录入
